"""
–ú–æ–¥—É–ª—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Consilium AI.

–°–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã, –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
–≠—Ç–æ—Ç –º–æ–¥—É–ª—å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑—É–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.
"""

import os
from dotenv import load_dotenv

# –ó–∞–≥—Ä—É–∂–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–∑ .env —Ñ–∞–π–ª–∞
# –≠—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è API –∫–ª—é—á–µ–π –∏ –¥—Ä—É–≥–∏—Ö —Å–µ–∫—Ä–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
load_dotenv()

# --- –ü–£–¢–ò –ö –§–ê–ô–õ–ê–ú –ò –î–ò–†–ï–ö–¢–û–†–ò–Ø–ú ---

# –ü—É—Ç—å –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö SQLite, –≥–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è —á–∞—Ç—ã –∏ —Å–æ–æ–±—â–µ–Ω–∏—è
# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø–æ–¥–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ data/
DB_PATH = os.path.join("data", "history.db")

# –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ª–æ–≥–æ–≤ —Ä–∞–±–æ—Ç—ã –∞–≥–µ–Ω—Ç–æ–≤
# –ö–∞–∂–¥—ã–π –∫–æ–Ω—Å–ø–µ–∫—Ç —Å–æ–∑–¥–∞–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–π –ª–æ–≥-—Ñ–∞–π–ª —Å –¥–∞—Ç–æ–π –∏ —Ç–µ–º–æ–π
LOGS_DIR = "logs"

# –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å –ø—Ä–æ–º–ø—Ç–∞–º–∏ –¥–ª—è –∞–≥–µ–Ω—Ç–æ–≤
# –ü—Ä–æ–º–ø—Ç—ã –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–≤, –∫—Ä–∏—Ç–∏–∫–∞ –∏ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
PROMPTS_DIR = "prompts"

# --- –ü–ê–†–ê–ú–ï–¢–†–´ –†–ê–ë–û–¢–´ –ê–ì–ï–ù–¢–û–í ---

# –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Ç–µ—Ä–∞—Ü–∏–π —É–ª—É—á—à–µ–Ω–∏—è —á–µ—Ä–Ω–æ–≤–∏–∫–æ–≤
# –ü–æ—Å–ª–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –ª–∏–º–∏—Ç–∞ —Å–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –∫ —Ñ–∏–Ω–∞–ª—å–Ω–æ–π —Ä–µ–¥–∞–∫—Ü–∏–∏
MAX_ITERATIONS = 3

# –õ–∏–º–∏—Ç —Ä–µ–∫—É—Ä—Å–∏–∏ –¥–ª—è –≥—Ä–∞—Ñ–∞ –∞–≥–µ–Ω—Ç–æ–≤
# –ó–∞—â–∏—Ç–∞ –æ—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã—Ö —Ü–∏–∫–ª–æ–≤ –≤ —Ä–∞–±–æ—Ç–µ –≥—Ä–∞—Ñ–∞
GRAPH_RECURSION_LIMIT = 15

# --- –ù–ê–°–¢–†–û–ô–ö–ò LLM (Language Learning Model) ---

# API –∫–ª—é—á –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Deepseek API
# –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: DEEPSEEK_API_KEY -> OPENAI_API_KEY -> DEEPSEEK_API_KEY_1 (fallback)
# –ï—Å–ª–∏ –æ–±—â–∏–π –∫–ª—é—á –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø–µ—Ä–≤—ã–π –∫–ª—é—á –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ –∫–∞–∫ fallback
# –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–∞–∂–µ –µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã —Ç–æ–ª—å–∫–æ –∫–ª—é—á–∏ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–≤
DEFAULT_API_KEY = (
    os.getenv("DEEPSEEK_API_KEY") 
    or os.getenv("OPENAI_API_KEY")
    or os.getenv("DEEPSEEK_API_KEY_1")  # Fallback –Ω–∞ –ø–µ—Ä–≤—ã–π –∫–ª—é—á –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞
)

# –ë–∞–∑–æ–≤—ã–π URL –¥–ª—è API –∑–∞–ø—Ä–æ—Å–æ–≤
# –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Deepseek API
# –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω URL –±–µ–∑ /v1, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ–º –µ–≥–æ
base_url = os.getenv("OPENAI_API_BASE", "https://api.deepseek.com/v1")
if base_url and not base_url.endswith("/v1") and not base_url.endswith("/v1/"):
    base_url = base_url.rstrip("/") + "/v1"
DEFAULT_BASE_URL = base_url

# –ú–æ–¥–µ–ª—å LLM –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
# –ú–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∞ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è DEEPSEEK_MODEL
DEFAULT_MODEL = os.getenv("DEEPSEEK_MODEL", "deepseek-chat")

# –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–∞
# –ó–Ω–∞—á–µ–Ω–∏–µ 0.7 –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –∫—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç—å—é –∏ —Ç–æ—á–Ω–æ—Å—Ç—å—é
DEFAULT_TEMPERATURE = 0.7

# --- –ù–ê–°–¢–†–û–ô–ö–ò STREAMLIT UI ---

# –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ –±—Ä–∞—É–∑–µ—Ä–µ
PAGE_TITLE = "Consilium AI"

# –ò–∫–æ–Ω–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (—ç–º–æ–¥–∑–∏)
PAGE_ICON = "ü§ñ"

# –®–∏—Ä–æ–∫–∏–π layout –¥–ª—è –±–æ–ª—å—à–µ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞
PAGE_LAYOUT = "wide"

# –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
INITIAL_SIDEBAR_STATE = "expanded"

# --- –°–¢–ò–õ–ò –ì–ï–ù–ï–†–ê–¢–û–†–û–í ---

# –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç—Ä–∏ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ç–∏–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∫–æ–Ω—Å–ø–µ–∫—Ç–æ–≤
# –ö–∞–∂–¥—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–æ–∑–¥–∞–µ—Ç —á–µ—Ä–Ω–æ–≤–∏–∫ –≤ —Å–≤–æ–µ–º —Å—Ç–∏–ª–µ
GENERATOR_STYLES = {
    "draft_1": "–°—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π –ø–ª–∞–Ω —Å —Ç–µ–∑–∏—Å–∞–º–∏.",
    "draft_2": "–ü–æ–¥—Ä–æ–±–Ω–æ–µ –ø–æ–≤–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ.",
    "draft_3": "–§–æ–∫—É—Å –Ω–∞ –ø—Ä–∏–º–µ—Ä–∞—Ö –∏ –∞–Ω–∞–ª–æ–≥–∏—è—Ö."
}

